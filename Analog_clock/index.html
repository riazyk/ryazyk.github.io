<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<title>Analog clock</title>
	<link rel="stylesheet" href="css/style.css">
	<script src="js/script.js"></script>
</head>
<body>
	
	<div class="clock">
		<div class="clock-face">
			<div class="dot"></div>
			<div class="hand hour-hand"></div>
			<div class="hand min-hand"></div>
			<div class="hand second-hand"></div>	
		</div>
		<div id="mute"></div>
	</div>


	<audio src="sound/tick.mp3"></audio>


	<script>
		const secondHand = document.querySelector('.second-hand');
		const minsHand = document.querySelector('.min-hand');
		const hourHand = document.querySelector('.hour-hand');
		const audio = document.querySelector('audio');

		function setDate() {
			const now = new Date();
			const seconds = now.getSeconds();
			const secondsDegrees = ((seconds/60) * 360) +90;
			secondHand.style.transform = `rotate(${secondsDegrees}deg)`;

			const minutes = now.getMinutes();
			const minsDegrees = ((minutes/60) * 360) +90;
			minsHand.style.transform = `rotate(${minsDegrees}deg)`;

			const hours = now.getHours();
			const hourDegrees = ((hours/12) * 360) +90;
			hourHand.style.transform = `rotate(${hourDegrees}deg)`;
		}
		setInterval(setDate, 1000);
		
		const muteBtn = document.querySelector('#mute');

		muteBtn.addEventListener('click', toggleInterval);


		var intervalId;
		function toggleInterval() {
			if (!intervalId) {
				this.style.backgroundImage = "url('img/sound5.png')";
				intervalId = setInterval(function(){audio.play();}, 1000);
			} else {
				this.style.backgroundImage = "url('img/sound.png')";
				clearInterval(intervalId);
				intervalId = null;
			}
		}










	</script>
</body>
</html>